<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<title>/esac</title>
</head>
<body><u>ESAC Software Carpentry Bootcamp</u><br
/><br
/>First coffee break at 10:30, lunch around 12:30-13:30, 2nd coffee break at 15:00 day finishes at 16:30.<br
/><br
/><u>DAY&nbsp; 2</u><br
/>Etherpad: <a href="https://etherpad.mozilla.org/esac">https://etherpad.mozilla.org/esac</a><br
/><br
/>Good morning everyone! Today we are covering:<br
/><br
/>* Remote git/GitHub<br
/>* Testing your code!<br
/>* A super-quick introduction to matplotlib and FITS reading<br
/>* Astropy (with more FITS i/o) and SunPy<br
/>* Closing - contributing, licensing, reflecting, sharing<br
/><br
/><u>Remote GIT / GItHub</u><br
/><br
/>Go to GitHub: <a href="http://github.com">http://github.com</a><br
/><br
/><br
/><u>Partner 2:</u><br
/>&nbsp;cd ../<br
/>mkdir swc_partner<br
/>cd swc_partner/<br
/>git clone <a href="https://github.com/abostroem/swc_test_repo.git">https://github.com/abostroem/swc_test_repo.git</a><br
/><br
/>On github.com:<br
/>1.&nbsp; Go to your repo<br
/>2.&nbsp; Go to settings<br
/>3.&nbsp; Go to collaborators<br
/>4.&nbsp; Add the username of Partner 2<br
/><br
/>Other useful git commands:<br
/>When you are resolving a merge you can take the remote copy and delete your changes like this:<br
/><br
/>git checkout --theirs &lt;filename&gt;<br
/><br
/>or you can take your copy and delete the remote changes like this:<br
/><br
/>git checkout --ours &lt;filename&gt;<br
/><br
/><u>Testing</u><br
/>WORK IN THE testing_blank notebook<br
/><br
/>You have a code which computes the overlap of 2 boxes<br
/>Test cases:<br
/><ul><li>Full overlap</li
><li>are the boxes rectangles</li
><li>are you over the pole</li
><li>no overlap</li
><li>Edges touching</li
><li>patial overlap</li
><li>corner overlap</li
><li>non-parallel edges</li
><li>1 unit of area</li
><li>incorrect corrdinates</li
><li>Side of zero length</li
><li>one box fits inside another box</li></ul
>You can't test everything, but it is worth taking some time to think about it<br
/><br
/>Break early and break often: don't let your code get to the end and then break or exit with a nasty error message<br
/><br
/><u>Testing input:</u><br
/><br
/>assert is a reserved word: python knows to do something special with it<br
/><ul><li>syntax: assert condition error message</li
><li>If the condition is not met you get an AssertionError<br/><br
/></li></ul
>You can put assert statement in your code, this is ok<br
/>-or- raise an more helpful error message than an AssertionError<br
/>Different types of errors: (<a href="http://docs.python.org/2/library/exceptions.html)">http://docs.python.org/2/library/exceptions.html)</a><br
/><ul><li>ValueError</li
><li>TypeError</li
><li>NameError<br/><br
/></li></ul
>Exercise:<br
/><ul><li>Test that input is a list</li
><li>test that every item in a list is a number<ul><li>May not want to do this since it may take a long time if the list is long</li></ul
></li
><li>Test that the list has elements<br/><br
/></li></ul
>Write testing script to test your functions:<br
/><ul><li>Test situations that you know the answer to (for instance: mean of a list of ones is one)</li
><li>Best way to test is to not say anything when everything works and only say something if something goes wrong<ul><li>assert statement works this way</li></ul
></li
><li>Test Double:<ul><li>positive integer</li
><li>zero</li
><li>negative integer</li
><li>double, single, int</li
><li>if input is float, then output is float</li></ul
></li
><li>Test Decrement:<ul><li>decrement(1) == 0<br/><br
/></li></ul
></li></ul
>Nose Tests:<br
/><ul><li>Function name has to start or end with the word test</li
><li>File name has to start or end with the word test</li
><li>Nose executes all functions which meet the above criteria</li
><li>%% ipython magic command</li
><li>%%file filename.py<ul><li>dumps cell to a text file called filename.py</li></ul
></li
><li>Nose has been implemented in a number of languages, not just python</li
><li>F means a test failed</li
><li>E means there was an error in your test script</li
><li>. means you passed<br/><br
/></li></ul
>Travis CI<br
/><ul><li>When you push to a remote repository, it runs your tests (with nosetest) on the platforms of your choice and emails you if something breaks</li
><li>Dependent on the quality of the tests you put in</li
><li>Impoves your productivity when you don't have to test everything every time you make a change<br/><br
/><br/><br
/></li></ul
>Plotting:<br
/>Check out this gallery of plots, the source code of each is available.<br
/><a href="http://matplotlib.org/gallery.html">http://matplotlib.org/gallery.html</a><br
/><br
/><br
/><br
/><u>Closing:</u><br
/>SWC Website <a href="http://software-carpentry.org/">http://software-carpentry.org/</a><br
/>ESAC Python Users Mailing list: python.users@sciops.esa.int<br
/><br
/>Know what your institutions rights are to your work<br
/><br
/>Know what you institution's licensing policy is<br
/><br
/>GPL - your code must be public if you modify and distribute it<br
/>BSD - ask us before you use our name<br
/>MIT - don't have to ask us before you use our name<br
/>Apache<br
/>Creative Commons - designed for not code (e.g. documentation)<br
/><br
/>Green - write something you enjoyed about the course<br
/>Pink - write something you didn't like or would improve about the course<br
/><br
/>Tomorrow: Commit any files you changed<br
/>&nbsp;&nbsp;&nbsp; git pull origin students<br
/><br
/>DAY 1<br
/><br
/><br
/><br
/><br
/>Type "whcih git" at a prompt to check that git is working and installed.<br
/><br
/>Should be like this&nbsp; (on linux / OS/X, might be a little different on windows):<br
/><br
/>stuart@cadair-media ~ % which git<br
/>/usr/bin/git<br
/><br
/><br
/><u>Version Contro</u>l<br
/><br
/>Version control is the best thing in the universe, seriously, Version Control &gt; chocolate &gt; beer, in that order.<br
/><br
/>Version control keeps the whole history for all the files in the repository, allows easy collboration and backup to other computers / servers.<br
/>&nbsp;<br
/>Check your git config:<br
/><br
/>stuart@cadair-laptop ~/GitHub/sunpy (git)-[0.4] % git config --global -l<br
/>user.name=Stuart Mumford<br
/>user.email=stuart@mumford.me.uk<br
/>push.default=matching<br
/>color.ui=auto<br
/><br
/>Using vi:<br
/><br
/>vi(m) has two modes "command mode" and "insert mode" type 'i' to get into insert mode to edit the file and then press 'esc' to go back to command mode.<br
/><br
/>Useful vi(m) commands:<br
/><br
/>':q` quit<br
/>':wq' write then quit<br
/>':q!' quit without writing<br
/>If you have a spanish keyboard layout you might have to use 'Ctrl-c to exit insert mode in vi(m)<br
/>':d' deletes a line<br
/><br
/>Other useful git commands:<br
/>current status of the repo, which files are being tracked and which are staged etc.<br
/>'git commit --amend' to change the last commit message (use with caution ;))<br
/>'git log'&nbsp;<br
/>'git status' print the See the last commits<br
/>'git commit -a' add all unstaged commits and commit them.<br
/>'git log --name-status' show the git log with modified files though 'git log --stat' is some what better.<br
/><br
/><u>Advanced Git</u><br
/><br
/>This link is a good interactive resource for learning more about git branching: <a href="http://pcottle.github.io/learnGitBranching/index.html?nodemo">http://pcottle.github.io/learnGitBranching/index.html?nodemo</a><br
/><br
/>Git shortcut:<br
/>'git checkout -b &lt;branchname&gt;' is the same as doing:<br
/>&nbsp;&nbsp;&nbsp; git branch &lt;branchname&gt;<br
/>&nbsp;&nbsp;&nbsp; git checkout &lt;branchname&gt;<br
/><br
/><br
/>Clone the bootcamp repo:<br
/><br
/>git clone --branch students <a href="https://github.com/justincely/2014-02-24-esac.git">https://github.com/justincely/2014-02-24-esac.git</a><br
/><br
/><br
/>def read_file(filename):<br
/>&nbsp;&nbsp;&nbsp; ofile = open(filename, 'r')<br
/>&nbsp;&nbsp;&nbsp; all_lines = ofile.readlines()<br
/>&nbsp;&nbsp;&nbsp; return all_lines<br
/><br
/>def parse_line(iline):<br
/>&nbsp;&nbsp;&nbsp; split_line = iline.split()<br
/>&nbsp;&nbsp;&nbsp; split_line[1] = float(split_line[1])<br
/>&nbsp;&nbsp;&nbsp; return split_line[0], split_line[1]<br
/><br
/>all_lines = read_file('ufo_sightings_2011.txt')<br
/>date_list = []<br
/>ufo_num = []<br
/>for iline in all_lines:<br
/>&nbsp;&nbsp;&nbsp; date, number_of_ufos = parse_line(iline)<br
/>&nbsp;&nbsp;&nbsp; date_list.append(date)<br
/>&nbsp;&nbsp;&nbsp; ufo_num.append(number_of_ufos)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>print date_list<br
/>print ufo_num<br
/><br
/><br
/>==================<br
/><br
/>def read_file(filename):<br
/>&nbsp;&nbsp;&nbsp; ofile = open(filename, 'r')<br
/>&nbsp;&nbsp;&nbsp; all_lines = ofile.readlines()<br
/>&nbsp;&nbsp;&nbsp; return all_lines<br
/><br
/>def parse_line(iline):<br
/>&nbsp;&nbsp;&nbsp; split_line = iline.split()<br
/>&nbsp;&nbsp;&nbsp; split_line[1] = float(split_line[1])<br
/>&nbsp;&nbsp;&nbsp; return split_line[0], split_line[1]<br
/>if __name__ == "__main__":<br
/>&nbsp;&nbsp;&nbsp; all_lines = read_file('ufo_sightings_2011.txt')<br
/>&nbsp;&nbsp;&nbsp; date_list = []<br
/>&nbsp;&nbsp;&nbsp; ufo_num = []<br
/>&nbsp;&nbsp;&nbsp; for iline in all_lines:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date, number_of_ufos = parse_line(iline)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date_list.append(date)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ufo_num.append(number_of_ufos)<br
/>&nbsp;&nbsp;&nbsp; print date_list<br
/>&nbsp;&nbsp;&nbsp; print ufo_num<br
/><br
/>=====================<br
/>import sys<br
/>def read_file(filename):<br
/>&nbsp;&nbsp;&nbsp; ofile = open(filename, 'r')<br
/>&nbsp;&nbsp;&nbsp; all_lines = ofile.readlines()<br
/>&nbsp;&nbsp;&nbsp; return all_lines<br
/><br
/>def parse_line(iline):<br
/>&nbsp;&nbsp;&nbsp; split_line = iline.split()<br
/>&nbsp;&nbsp;&nbsp; split_line[1] = float(split_line[1])<br
/>&nbsp;&nbsp;&nbsp; return split_line[0], split_line[1]<br
/><br
/>if __name__ == "__main__":<br
/>&nbsp;&nbsp;&nbsp; filename = sys.argv[1]<br
/>&nbsp;&nbsp;&nbsp; all_lines = read_file(filename)<br
/>&nbsp;&nbsp;&nbsp; date_list = []<br
/>&nbsp;&nbsp;&nbsp; ufo_num = []<br
/>&nbsp;&nbsp;&nbsp; for iline in all_lines:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date, number_of_ufos = parse_line(iline)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date_list.append(date)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ufo_num.append(number_of_ufos)<br
/>&nbsp;&nbsp;&nbsp; print date_list<br
/>&nbsp;&nbsp;&nbsp; print ufo_num<br
/><br
/><br
/></body>
</html>
